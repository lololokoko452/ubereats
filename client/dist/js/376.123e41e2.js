"use strict";(self["webpackChunkubereats"]=self["webpackChunkubereats"]||[]).push([[376],{4041:function(t,a,e){e.r(a),e.d(a,{default:function(){return N}});var s=e(1480),i=e(6929),r=e(3279),l=e(6521),n=e(1689),o=e(8834),c=e(3882),d=e(1526),m=e(6278),u=e(1770),h=e(9456),_=e(980),g=e(2987),v=e(1075),C=e(6315),p=e(775),b=e(7954),f=e(8412),y=e(488),A=e(4287),k=e(1305),w=e(7410),x=e(1735),T=function(){var t=this,a=t._self._c;return a("div",{staticClass:"restaurant-view"},[a(i.A,{staticClass:"restaurant-header",attrs:{app:"",flat:"",color:"white"}},[a(l.A,{attrs:{icon:""},on:{click:t.goBack}},[a(h.A,[t._v("mdi-arrow-left")])],1),a(x.sw,{staticClass:"font-weight-bold"},[t._v(" "+t._s(t.headerTitle)+" ")]),a(w.A),t.headerCity?a("div",{staticClass:"d-none d-md-flex align-center mr-4"},[a(h.A,{staticClass:"mr-1",attrs:{small:"",color:"grey darken-1"}},[t._v("mdi-map-marker")]),a("span",{staticClass:"caption grey--text text--darken-1"},[t._v(" "+t._s(t.headerCity)+" ")])],1):t._e(),a(r.A,{attrs:{content:t.cartItemCount,color:"deep-orange darken-2",overlap:"",bordered:"",value:t.cartItemCount>0}},[a(l.A,{attrs:{icon:""},on:{click:t.openCart}},[a(h.A,[t._v("mdi-cart-outline")])],1)],1)],1),a(b.A,{staticClass:"restaurant-main"},[a(m.A,{staticClass:"py-0"},[t.detailLoading?a(y.A,{staticClass:"mt-4",attrs:{type:"image, heading, paragraph, paragraph, heading"}}):[t.detailError?a(s.A,{staticClass:"mt-6",attrs:{type:"error",prominent:""}},[t._v(" "+t._s(t.detailError)+" "),a(u.A,{staticClass:"my-4"}),a(l.A,{attrs:{color:"primary",text:""},on:{click:function(a){return t.$router.back()}}},[t._v("Retour")])],1):t.detail?a("div",[a(_.A,{staticClass:"hero-banner",attrs:{src:t.detail.heroImage,height:"320",cover:"",gradient:"to top, rgba(0,0,0,.45), rgba(0,0,0,.05)"}},[a("div",{staticClass:"hero-info white--text"},[a("div",{staticClass:"mb-2"},[t.detail.rating?a(c.A,{staticClass:"mr-2",attrs:{color:"amber darken-3","text-color":"white"}},[a(h.A,{attrs:{left:"",small:""}},[t._v("mdi-star")]),t._v(" "+t._s(t.detail.rating)+" ("+t._s(t.detail.reviewCount)+") ")],1):t._e(),t.detail.priceRange?a(c.A,{attrs:{outlined:"",dark:""}},[t._v(" "+t._s(t.detail.priceRange)+" ")]):t._e()],1),a("h1",{staticClass:"display-1 font-weight-bold mb-2"},[t._v(t._s(t.detail.name))]),a("div",{staticClass:"subtitle-1 mb-2"},[t._v(t._s(t.detail.tagline))]),a("div",{staticClass:"caption"},[t._v(" "+t._s(t.detail.location?.address)+", "+t._s(t.detail.location?.postalCode)+" "+t._s(t.detail.location?.city)+" ")])])]),a(m.A,{staticClass:"mt-n8"},[a(f.A,[a(d.A,{attrs:{cols:"12",md:"8"}},[a(n.A,{staticClass:"mb-6",attrs:{outlined:""}},[a(o.OQ,[a("div",{staticClass:"d-flex align-center flex-wrap mb-4 info-chips"},[a(c.A,{staticClass:"mr-2 mb-2",attrs:{color:"grey lighten-4"}},[a(h.A,{attrs:{left:"",small:"",color:"grey darken-2"}},[t._v("mdi-clock-outline")]),t._v(" "+t._s(t.etaText)+" ")],1),a(c.A,{staticClass:"mr-2 mb-2",attrs:{color:"grey lighten-4"}},[a(h.A,{attrs:{left:"",small:"",color:"grey darken-2"}},[t._v("mdi-cash")]),t._v(" "+t._s(t.feeText)+" ")],1),t._l(t.detail.categories||[],function(e){return a(c.A,{key:e.id,staticClass:"mr-2 mb-2",attrs:{small:"",outlined:""}},[t._v(" "+t._s(e.name)+" ")])})],2),a("p",{staticClass:"body-1 mb-4"},[t._v(t._s(t.detail.description))]),t.detail.highlights&&t.detail.highlights.length?a("div",{staticClass:"mb-4"},[a("div",{staticClass:"subtitle-2 font-weight-bold mb-2"},[t._v("À retenir")]),t._l(t.detail.highlights,function(e){return a(c.A,{key:e,staticClass:"mr-2 mb-2",attrs:{small:"",color:"green lighten-4","text-color":"green darken-3"}},[a(h.A,{attrs:{left:"",small:"",color:"green darken-3"}},[t._v("mdi-check")]),t._v(" "+t._s(e)+" ")],1)})],2):t._e(),t.detail.deliveryNotes&&t.detail.deliveryNotes.length?a("div",{staticClass:"mb-4"},[a("div",{staticClass:"subtitle-2 font-weight-bold mb-2"},[t._v("Livraison")]),a("ul",{staticClass:"delivery-notes"},t._l(t.detail.deliveryNotes,function(e){return a("li",{key:e},[t._v(" "+t._s(e)+" ")])}),0)]):t._e()])],1),t._l(t.detail.menuSections||[],function(e){return a("div",{key:e.title,staticClass:"mb-8"},[a("div",{staticClass:"d-flex align-center mb-3"},[a("h2",{staticClass:"title font-weight-bold mr-3"},[t._v(t._s(e.title))]),a("span",{staticClass:"caption grey--text"},[t._v(t._s(e.subtitle))])]),a(n.A,{attrs:{outlined:""}},[a(g.A,{attrs:{"two-line":""}},t._l(e.items,function(s){return a(v.A,{key:s.name,staticClass:"menu-item"},[a(p.pr,[a(p.UZ,{staticClass:"font-weight-medium"},[t._v(" "+t._s(s.name)+" ")]),a(p.w,{staticClass:"grey--text text--darken-1"},[t._v(" "+t._s(s.description)+" ")]),s.tags&&s.tags.length?a("div",{staticClass:"mt-1"},t._l(s.tags,function(e){return a(c.A,{key:e,staticClass:"mr-1",attrs:{"x-small":"",color:"grey lighten-3"}},[t._v(" "+t._s(e)+" ")])}),1):t._e()],1),a(C.A,{staticClass:"align-self-start text-no-wrap d-flex flex-column align-end"},[a("div",{staticClass:"subtitle-1 font-weight-bold mb-2"},[t._v(" "+t._s(t.formatCurrency(s.price))+" ")]),a(l.A,{staticClass:"text-none",attrs:{small:"",color:"deep-orange darken-2",dark:"",loading:t.cartUpdating,disabled:t.cartUpdating},on:{click:function(a){return t.addToCart(e,s)}}},[a(h.A,{attrs:{left:"",small:""}},[t._v("mdi-cart-plus")]),t._v(" Ajouter ")],1)],1)],1)}),1)],1)],1)})],2),a(d.A,{attrs:{cols:"12",md:"4"}},[a(n.A,{staticClass:"mb-6",attrs:{outlined:""}},[a(o.OQ,[a("div",{staticClass:"subtitle-1 font-weight-bold mb-2"},[t._v(" Coordonnées ")]),a("div",{staticClass:"body-2 mb-3"},[t._v(" "+t._s(t.detail.location?.address)),a("br"),t._v(" "+t._s(t.detail.location?.postalCode)+" "+t._s(t.detail.location?.city)+" ")]),a("div",{staticClass:"caption grey--text mb-3"},[t._v(" Prévision : "+t._s(t.etaText)+" · "+t._s(t.feeText)+" ")]),a(l.A,{staticClass:"mb-2",attrs:{block:"",color:"deep-orange darken-2",dark:""}},[t._v(" Commander maintenant ")]),a(l.A,{attrs:{block:"",outlined:"",color:"grey darken-1"}},[t._v(" Ajouter aux favoris ")])],1)],1),t.detail.contact&&(t.detail.contact.phone||t.detail.contact.website)?a(n.A,{attrs:{outlined:""}},[a(o.OQ,[a("div",{staticClass:"subtitle-2 font-weight-bold mb-3"},[t._v("Contact")]),t.detail.contact.phone?a("div",{staticClass:"mb-2"},[a(h.A,{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-phone")]),t._v(" "+t._s(t.detail.contact.phone)+" ")],1):t._e(),t.detail.contact.website?a("div",{staticClass:"mb-2"},[a(h.A,{staticClass:"mr-1",attrs:{small:""}},[t._v("mdi-web")]),a("a",{attrs:{href:t.detail.contact.website,target:"_blank",rel:"noopener"}},[t._v(" Site web ")])],1):t._e()])],1):t._e()],1)],1),t.similar&&t.similar.length?a("section",{staticClass:"mt-4"},[a("div",{staticClass:"d-flex align-center mb-3"},[a("h2",{staticClass:"title font-weight-bold mr-3"},[t._v("Similaires à découvrir")]),a("span",{staticClass:"caption grey--text"},[t._v("Les clients aiment aussi")])]),a(A.Ay,{attrs:{"show-arrows":""}},t._l(t.similar,function(e){return a(k.A,{key:e.id},[a("restaurant-card",{staticClass:"mr-4",attrs:{restaurant:e},on:{select:t.goToRestaurant}})],1)}),1)],1):t._e()],1)],1):t._e()]],2)],1)],1)},$=[],R=(e(4114),e(5353)),F=e(8472),I={name:"RestaurantDetailView",components:{RestaurantCard:F.A},computed:{...(0,R.aH)("restaurants",["detail","similar","detailLoading","detailError"]),...(0,R.aH)("cart",{cartUpdating:t=>t.updating}),...(0,R.L8)("cart",{cartItemCount:"itemCount"}),headerTitle(){return this.detail&&this.detail.name?this.detail.name:"Uber Eats"},headerCity(){return this.detail&&this.detail.location&&this.detail.location.city?this.detail.location.city:""},etaText(){if(!this.detail)return"";const t=this.detail.deliveryTimeMin,a=this.detail.deliveryTimeMax;return t&&a?`${t}-${a} min`:"Temps estimé"},feeText(){return this.detail?this.detail.deliveryFeeDescription?this.detail.deliveryFeeDescription:"number"===typeof this.detail.deliveryFee?`Frais ${this.detail.deliveryFee.toFixed(2)} €`:"Frais variables":""}},watch:{"$route.params.slug":{immediate:!0,handler(){this.loadRestaurant()}}},beforeDestroy(){this.$store.commit("restaurants/SET_DETAIL",null)},methods:{goBack(){window.history.length>1?this.$router.back():this.$router.push({name:"home"})},async loadRestaurant(){const t=this.$route.params.slug;if(t)try{await this.$store.dispatch("restaurants/fetchDetail",t),window.scrollTo({top:0,behavior:"smooth"})}catch(a){}},goToRestaurant(t){const a="string"===typeof t?t:t.slug;this.$router.push({name:"restaurant",params:{slug:a}})},formatCurrency(t){const a=Number(t||0);return new Intl.NumberFormat("fr-FR",{style:"currency",currency:"EUR",minimumFractionDigits:2}).format(a)},async addToCart(t,a){if(this.detail)try{await this.$store.dispatch("cart/addItem",{item:{restaurantSlug:this.detail.slug,restaurantName:this.detail.name,sectionTitle:t.title||"",name:a.name,description:a.description||"",price:a.price||0,image:a.image||this.detail.heroImage||""},quantity:1})}catch(e){console.warn("Impossible d’ajouter l’article au panier",e)}},openCart(){this.$store.dispatch("cart/open")}}},D=I,E=e(1656),L=(0,E.A)(D,T,$,!1,null,"06fe0bb3",null),N=L.exports}}]);
//# sourceMappingURL=376.123e41e2.js.map